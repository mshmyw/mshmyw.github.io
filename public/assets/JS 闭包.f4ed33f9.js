import{c as u}from"./index.1fa5d347.js";const e={},l="wrapper";function F({components:E,...C}){return u(l,{...e,...C,components:E,mdxType:"MDXLayout"},u("h1",null,"\u95ED\u5305"),u("p",null,"mdn\u4E0A\u5B9A\u4E49\u662F\uFF1A\u51FD\u6570\u548C\u58F0\u660E\u8BE5\u51FD\u6570\u7684\u8BCD\u6CD5\u73AF\u5883\u7684\u7EC4\u5408\u3002"),u("p",null,"\u7EF4\u57FA\u5B9A\u4E49\u662F\uFF1A",u("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)",title:"\u95ED\u5305"},"\u95ED\u5305")," ",u("strong",{parentName:"p"},"\u8BCD\u6CD5\u95ED\u5305"),"\uFF08Lexical Closure\uFF09\u6216",u("strong",{parentName:"p"},"\u51FD\u6570\u95ED\u5305"),"\uFF08function closures\uFF09\uFF0C\u662F\u5F15\u7528\u4E86\u81EA\u7531\u53D8\u91CF\u7684\u51FD\u6570\u3002\u8FD9\u4E2A\u88AB\u5F15\u7528\u7684\u81EA\u7531\u53D8\u91CF\u5C06\u548C\u8FD9\u4E2A\u51FD\u6570\u4E00\u540C\u5B58\u5728\uFF0C\u5373\u4F7F\u5DF2\u7ECF\u79BB\u5F00\u4E86\u521B\u9020\u5B83\u7684\u73AF\u5883\u4E5F\u4E0D\u4F8B\u5916"),u("p",null,"\u652F\u6301\u95ED\u5305\u7684\u8BED\u8A00\u4E2D\uFF0C\u901A\u5E38\u51FD\u6570\u4F1A\u662F\u4E00\u7B49\u516C\u6C11\u3002\u4E5F\u5C31\u662F\u51FD\u6570\u53EF\u4EE5\u50CF\u666E\u901A\u53D8\u91CF\u4E00\u6837\u4F7F\u7528\u3002"),u("p",null,"\u76F8\u4FE1\u4F60\u6CA1\u6709\u63A5\u89E6\u8FC7\u7684\u8BDD\u8BFB\u5B8C\u53EA\u4F1A\u66F4\u56F0\u60D1\u3002"),u("p",null,"\u6211\u4EEC\u77E5\u9053JS\u662F\u652F\u6301\u95ED\u5305\u7684\uFF0C\u4E0B\u9762\u770B\u4E00\u4E2AJS\u7684\u{1F330}\u3002"),u("pre",null,u("code",{parentName:"pre",className:"language-javascript"},`var scope = "global scope";
function checkscope(){
    var scope = "local scope";
    function f(){
        return scope;
    }
    return f;
}

var foo = checkscope();
foo();
`)),u("p",null,"\u8BE5\u4F8B\u5B50\u4E2D\uFF1A\u51FD\u6570",u("em",{parentName:"p"},"checkscope"),"\u5185\u4ECD\u6709\u4E00\u4E2A\u51FD\u6570f,\u800C\u4E14f\u5185\u5F15\u7528\u4E86\u4E00\u4E2A\u5916\u90E8\u53D8\u91CFscope\uFF0C\u5176\u5B9A\u4E49\u5728checkscope\u4E2D\uFF0C\u4F46\u4F7F\u7528\u5728f\u4E2D\u3002\u5728\u8C03\u7528\u65F6\uFF0C\u5206\u4E86\u4E24\u6B65\uFF1A\u7B2C\u4E00\u6B65\u6267\u884Ccheckscope()\uFF0C\u5176\u6267\u884C\u7ED3\u675F\u540E\u6709\u4EC0\u4E48\u7ED3\u679C\u5462\uFF1F\u7B54\u6848\u662Fscope\u53D8\u91CF\u5E76\u672A\u9500\u6BC1\uFF0C\u56E0\u4E3Af\u51FD\u6570\u4ECD\u7136\u5F15\u7528\u4E86\u5B83\u3002\u6545\u7B2C\u4E8C\u6B65\u6267\u884Cfoo()\u624D\u6CA1\u6709\u95EE\u9898\u3002"),u("p",null,"\u8FD9\u5C31\u662F\u95ED\u5305\u7684\u5F62\u5F0F\u3002"),u("h2",null,"\u8BED\u8A00\u5BF9\u6BD4"),u("p",null,"\u50CF\u4E0A\u9762\u7684\u8FD9\u79CD\u51FD\u6570\u5957\u51FD\u6570\u7684\u5199\u6CD5\uFF0C\u5C31\u662F\u95ED\u5305\u7684\u5F62\u5F0F\u4E4B\u4E00\u3002\u6709\u8BB8\u591A\u8BED\u8A00\u652F\u6301\u95ED\u5305\uFF0C\u6BD4\u5982python,lua\u3002\u5E76\u4E0D\u662F\u6240\u6709\u8BED\u8A00\u5462\u90FD\u652F\u6301\u8FD9\u6837\uFF0C\u6BD4\u5982c\u8BED\u8A00\uFF0C\u6211\u4EEC\u770B\u4E00\u4E0Bc\u8BED\u8A00\u7684\u51FD\u6570\uFF0C\u5047\u5982\u5982\u4E0B\uFF1A"),u("pre",null,u("code",{parentName:"pre",className:"language-c"},`void func1(){
    printf("http://c.biancheng.net");
    void func2(){
        printf("C\u8BED\u8A00\u5C0F\u767D\u53D8\u602A\u517D");
    }
}
`)),u("p",null,"\u4E0A\u8FF0\u5B9A\u4E49\u662F\u274C\u7684\uFF0C\u56E0\u4E3AC\u8BED\u8A00\u7684\u51FD\u6570\u4E0D\u80FD\u5D4C\u5957\u5B9A\u4E49\u3002"),u("h2",null,"\u95ED\u5305\u7406\u89E3"),u("h4",null,"\u95ED\u5305\u5141\u8BB8\u5185\u5C42\u51FD\u6570\u5F15\u7528\u7236\u51FD\u6570\u4E2D\u7684\u53D8\u91CF\u3002\u6CE8\u610F\u8FD9\u91CC\u8BF4\u7684\u662F\u5BF9\u5916\u5C42\u7684\u5F15\u7528\u3002"),u("p",null,"\u793A\u4F8B\uFF1A"),u("pre",null,u("code",{parentName:"pre",className:"language-javascript"},`/**
 * <body>
 * <ul>
 *     <li>one</li>
 *     <li>two</li>
 *     <li>three</li>
 *     <li>one</li>
 * </ul>
 */

var lists = document.getElementsByTagName('li');
for(var i = 0 , len = lists.length ; i < len ; i++){
    lists[ i ].onmouseover = function(){
        alert(i);    
    };
}
`)),u("p",null,"\u8FD9\u91CC\u9F20\u6807\u79FB\u8FC7\u6BCF\u4E2Ali\u5143\u7D20\uFF0C\u603B\u662F\u5F39\u51FA4\u3002"),u("p",null,"\u4E3A\u4EC0\u4E48\u5462\uFF1F"),u("blockquote",null,u("p",{parentName:"blockquote"},"\u9996\u5148\u5728\u533F\u540D\u51FD\u6570\uFF08 function(){ alert(i); }\uFF09\u5185\u90E8\u67E5\u627E\u662F\u5426\u5B9A\u4E49\u4E86 i\uFF0C\u7ED3\u679C\u662F\u6CA1\u6709\u5B9A\u4E49\uFF1B\u56E0\u6B64\u5B83\u4F1A\u5411\u4E0A\u67E5\u627E\uFF0C\u67E5\u627E\u7ED3\u679C\u662F\u5DF2\u7ECF\u5B9A\u4E49\u4E86\uFF0C\u5E76\u4E14i\u7684\u503C\u662F4\uFF08\u5FAA\u73AF\u540E\u7684i\u503C\uFF09\uFF1B\u6240\u4EE5\uFF0C\u6700\u7EC8\u6BCF\u6B21\u5F39\u51FA\u7684\u90FD\u662F4\u3002")),u("p",null,"\u5176\u4E2D\u4E00\u79CD\u89E3\u51B3\u529E\u6CD5\u662F\uFF1A"),u("pre",null,u("code",{parentName:"pre",className:"language-javascript"},`var lists = document.getElementsByTagName('li');
for(var i = 0 , len = lists.length ; i < len ; i++){
    (function(index){
        lists[ index ].onmouseover = function(){
            alert(index);    
        };                    
    })(i);
}
`)),u("p",null,"\u793A\u4F8B2\uFF1A"),u("pre",null,u("code",{parentName:"pre",className:"language-javascript"},`var data = [];

for (var i = 0; i < 3; i++) {
  data[i] = function () {
    console.log(i);
  };
}

data[0]();
data[1]();
data[2]();
`)),u("p",null,"\u7B54\u6848\u662F\u90FD\u662F 3\uFF0C\u7B80\u5355\u5206\u6790\u4E0B\uFF1A"),u("p",null,"\u6267\u884C\u5230data","[0]","\u65F6\u5019\uFF0C\u5FAA\u73AF\u5DF2\u7ECF\u7ED3\u675F\uFF0C\u6B64\u65F6i\u4E3A3\u3002\u5728data","[0]","\u51FD\u6570\u7684\u4F5C\u7528\u57DF\u4E0B\uFF0C",u("inlineCode",{parentName:"p"},"data[0]( )"),"\u7ED3\u679C\u4E3A3"),u("h2",null,"\u5185\u5B58\u6CC4\u6F0F"),u("p",null,"\u95ED\u5305\u5341\u5206\u5BB9\u6613\u9020\u6210\u6D4F\u89C8\u5668\u7684\u5185\u5B58\u6CC4\u9732\u3002JS\u91C7\u7528\u7684\u662F\u4E00\u79CD\u81EA\u52A8\u5783\u573E\u56DE\u6536\u673A\u5236\u3002\u5F53\u4E00\u4E2A\u5BF9\u8C61\u65E0\u7528\u7684\u65F6\u5019\uFF0C\u5373\u7A0B\u5E8F\u4E2D\u65E0\u53D8\u91CF\u5F15\u7528\u8FD9\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u5C31\u4F1A\u4ECE\u5185\u5B58\u4E2D\u91CA\u653E\u6389\u8FD9\u4E2A\u53D8\u91CF\u3002"),u("h4",null,"\u5FAA\u73AF\u5F15\u7528"),u("p",null,"A->B->C->B \uFF1A\u8FD9\u91CC\u589E\u52A0\u4E86C\u7684\u67D0\u4E00\u5C5E\u6027\u5F15\u7528B\u5BF9\u8C61\uFF0C\u5982\u679C\u8FD9\u662F\u6E05\u9664A\uFF0C\u90A3\u4E48B\u3001C\u4E0D\u4F1A\u88AB\u91CA\u653E\uFF0C\u56E0\u4E3AB\u548CC\u4E4B\u95F4\u4EA7\u751F\u4E86\u5FAA\u73AF\u5F15\u7528\u3002"),u("p",null,"\u95ED\u5305\u975E\u5E38\u5BB9\u6613\u521B\u5EFA\u5FAA\u73AF\u5F15\u7528\uFF0C\u6545\u6709\u53EF\u80FD\u5BFC\u81F4\u5185\u5B58\u6CC4\u6F0F\u3002"),u("blockquote",null,u("ul",{parentName:"blockquote"},u("li",{parentName:"ul"},u("a",{parentName:"li",href:"https://web.archive.org/web/20100825182303/http://www.felixwoo.com/archives/247"},"\u6DF1\u5165\u7406\u89E3Javascript\u95ED\u5305(closure) - Felix Woo")))),u("h2",null,"\u95ED\u5305\u518D\u6B21\u7406\u89E3"),u("p",null,`\u95ED\u5305\u5C31\u662F\u7531\u51FD\u6570\u521B\u9020\u7684\u4E00\u4E2A\u8BCD\u6CD5\u4F5C\u7528\u57DF\uFF0C\u91CC\u9762\u521B\u5EFA\u7684\u53D8\u91CF\u88AB\u5F15\u7528\u540E\uFF0C\u53EF\u4EE5\u5728\u8FD9\u4E2A\u8BCD\u6CD5\u73AF\u5883\u4E4B\u5916\u81EA\u7531\u4F7F\u7528\u3002
\u95ED\u5305\u901A\u5E38\u7528\u6765\u521B\u5EFA\u5185\u90E8\u53D8\u91CF\uFF0C\u4F7F\u5F97\u8FD9\u4E9B\u53D8\u91CF\u4E0D\u80FD\u88AB\u5916\u90E8\u968F\u610F\u4FEE\u6539\uFF0C\u540C\u65F6\u53C8\u53EF\u4EE5\u901A\u8FC7\u6307\u5B9A\u7684\u51FD\u6570\u63A5\u53E3\u6765\u64CD\u4F5C\u3002`),u("p",null,`\u4E24\u4E2A\u4F5C\u7528\uFF1A
\uFF081\uFF09\uFF1A\u901A\u8FC7\u95ED\u5305\uFF0C\u5728\u5916\u90E8\u73AF\u5883\u8BBF\u95EE\u5185\u90E8\u73AF\u5883\u7684\u53D8\u91CF\u3002
\uFF082\uFF09\uFF1A\u4F7F\u5F97\u8FD9\u4E9B\u53D8\u91CF\u4E00\u76F4\u4FDD\u5B58\u5728\u5185\u5B58\u4E2D\uFF0C\u4E0D\u4F1A\u88AB\u5783\u573E\u56DE\u6536\u3002`),u("p",null,"\u5E94\u7528\u573A\u666F"),u("ol",null,u("li",{parentName:"ol"},"\u6A21\u5757\u3002\u4E5F\u662F\u5229\u7528\u4E86\u95ED\u5305\u7684\u4E00\u4E2A\u5F3A\u5927\u7684\u4EE3\u7801\u6A21\u5F0F\u3002")))}F.isMDXComponent=!0;var D=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));const A={};A.main=D;export{A as default};
